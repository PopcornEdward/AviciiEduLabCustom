---
// src/components/boxing/ProductGrid.astro
import { Image } from "astro:assets";

// 1. 定义组件接收的属性 (Props)
interface Product {
  url: string;
  title: string;
  subtitle: string;
  price: string;
  image: ImageMetadata;
}

interface Props {
  title: string; // 用于显示的大标题
  products: Product[]; // 要展示的产品列表
  class?: string; // 允许组件接收可选的 class 属性
}

// 2. 解构属性
const { title, products, class: classes } = Astro.props; 
---

<section class={`bg-white p-8 shadow-2xl rounded-xl w-full max-w-4xl mt-16 ${classes}`}>
  <div class="mb-10 text-center">
    <h2 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl">
      {title}
    </h2>
    <p class="mt-4 text-xl text-gray-500">
      探索我们精选的 {title} 系列产品。
    </p>
  </div>
  
    <div
    class="grid grid-cols-1 gap-6 lg:gap-y-24 md:grid-cols-2 lg:grid-cols-3"
    style="align-items: stretch;" 
  >
    {
      products.map((product) => (
                <figure 
            class="relative h-full flex flex-col" 
        > 
          <a href={product.url} aria-hidden="true" class="absolute inset-0" />
          
                    <Image
            width="800"
            height="800"
            alt={product.title}
            src={product.image}
            class="w-full rounded-3xl shadow flex-shrink-0 object-cover object-center aspect-12/9" 
            
            style="height: 198px !important;"
          />
          
                    <div class="mt-2 flex justify-between px-6 flex-grow items-end">
            <div>
              <p class="mt-1 text-sm font-medium text-base-900">
                {product.subtitle}
              </p>
              <h3 class="text-xs text-base-500">{product.title}</h3>
            </div>
            <p class="text-base text-orange-600">{product.price}</p>
          </div>
        </figure>
      ))
    }
  </div>
</section>